# rman_backup.conf.example
#
# Shell-style configuration for rman_backup.sh
# Copy to /etc/rman_backup/rman_backup.conf or a preferred location, edit values,
# and pass via -c option. All site-specific values must be configured here.
#
# Directory layout:
#   BASE_DIR is the root for RMAN backups and logs.
#   Subdirectories per backup type (L0/L1/Arch) will have date-based folders: DD-Mon-YYYY.
#   Script creates directories as needed with safe permissions.
#
# Placeholders supported in BACKUP_FORMAT_*:
#   %d = DB_NAME (RMAN expands)
#   %t = timestamp (RMAN expands)
#   %s = backup set sequence (RMAN expands)
#   %i = instance name (script expands)
# Example: '%d_%t_L0_%s' or '${INSTANCE_NAME}_%d_%t_L1_%s'
#
# Compression:
#   COMPRESS=Y enables "backup as compressed backupset". Default N if missing.
#
# SPFILE backup:
#   SPFILE_BACKUP=Y|N controls whether SPFILE is included after datafile backups. Default Y.
#
# Retention:
#   RETENTION_DAYS specifies the recovery window used for "report/delete obsolete".
#
# Channels:
#   CHANNELS sets number of parallel disk channels.
#   CHANNEL_MAXSIZE sets per-piece max size (e.g., 100G, 500M, 1024K, 1T).
#
# Oracle environment:
#   ORATAB path used to validate instance and locate ORACLE_HOME.
#
# RMAN binary:
#   Path to the RMAN executable.
#
# Additional RMAN options:
#   ADDITIONAL_RMAN_OPTIONS can include catalog/target strings, etc.
#   Avoid putting secrets; use OS auth or a wallet where possible.
#
# Logging:
#   LOG_DIR receives all logs: main, error, retention, and activity.log.
#
# Base directories
BASE_DIR=/backup/rman

# Typed backup directories
BACKUP_L0_DIR=${BASE_DIR}/L0
BACKUP_L1_DIR=${BASE_DIR}/L1
BACKUP_ARCH_DIR=${BASE_DIR}/Arch

# Filename formats (RMAN FORMAT strings)
# Include placeholders per above. The script will expand %i to instance name for convenience.
BACKUP_FORMAT_L0='%d_%t_L0_%s'
BACKUP_FORMAT_L1='%d_%t_L1_%s'
BACKUP_FORMAT_ARCH='%d_%t_ARCH_%s'

# Channels and limits
CHANNELS=3
CHANNEL_MAXSIZE=100G

# Retention policy window (days)
RETENTION_DAYS=3

# Oracle oratab path (used to find ORACLE_HOME for the instance)
ORATAB=/etc/oratab

# Logging directory
LOG_DIR=${BASE_DIR}/logs

# RMAN binary path
RMAN_BINARY=/usr/bin/rman

# Compression (Y/N). Default N if missing.
COMPRESS=Y

# SPFILE backup (Y/N). Default Y if missing.
SPFILE_BACKUP=Y

# Additional RMAN options (freeform). Example:
# ADDITIONAL_RMAN_OPTIONS="catalog rman_user@CATDB"
ADDITIONAL_RMAN_OPTIONS=''
