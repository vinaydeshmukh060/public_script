<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementation Notes Generator</title>
    <style>
        :root {
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;
  --color-bg-1: rgba(59, 130, 246, 0.08);
  --color-bg-2: rgba(245, 158, 11, 0.08);
  --color-bg-3: rgba(34, 197, 94, 0.08);
  --color-bg-4: rgba(239, 68, 68, 0.08);
  --color-bg-5: rgba(147, 51, 234, 0.08);
  --color-bg-6: rgba(249, 115, 22, 0.08);
  --color-bg-7: rgba(236, 72, 153, 0.08);
  --color-bg-8: rgba(6, 182, 212, 0.08);
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --color-success-rgb: 33, 128, 141;
  --color-error-rgb: 192, 21, 47;
  --color-warning-rgb: 168, 75, 47;
  --color-info-rgb: 98, 108, 113;
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;
    --color-bg-1: rgba(29, 78, 216, 0.15);
    --color-bg-2: rgba(180, 83, 9, 0.15);
    --color-bg-3: rgba(21, 128, 61, 0.15);
    --color-bg-4: rgba(185, 28, 28, 0.15);
    --color-bg-5: rgba(107, 33, 168, 0.15);
    --color-bg-6: rgba(194, 65, 12, 0.15);
    --color-bg-7: rgba(190, 24, 93, 0.15);
    --color-bg-8: rgba(8, 145, 178, 0.15);
    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
    --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.15);
    --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);
    --color-success-rgb: var(--color-teal-300-rgb);
    --color-error-rgb: var(--color-red-400-rgb);
    --color-warning-rgb: var(--color-orange-400-rgb);
    --color-info-rgb: var(--color-gray-300-rgb);
  }
}

@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
    format('woff2');
}

html {
  font-size: var(--font-size-base);
  font-family: var(--font-family-base);
  line-height: var(--line-height-normal);
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: var(--space-24);
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

.header {
  text-align: center;
  margin-bottom: var(--space-32);
}

.header h1 {
  font-size: var(--font-size-4xl);
  font-weight: var(--font-weight-bold);
  margin: 0 0 var(--space-12) 0;
  color: var(--color-text);
  letter-spacing: var(--letter-spacing-tight);
}

.header p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-lg);
  margin: 0;
}

.main-content {
  display: block;
}

.form-section {
  background-color: var(--color-surface);
  padding: var(--space-32);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-md);
  margin-bottom: var(--space-32);
}

.output-section {
  background-color: var(--color-surface);
  padding: var(--space-32);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-md);
  margin-top: var(--space-32);
  transition: all var(--duration-normal) var(--ease-standard);
}

.output-section.highlight {
  animation: highlightPulse 0.6s ease-out;
}

@keyframes highlightPulse {
  0% {
    box-shadow: var(--shadow-md);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 0 4px var(--color-focus-ring), var(--shadow-lg);
    transform: scale(1.01);
  }
  100% {
    box-shadow: var(--shadow-md);
    transform: scale(1);
  }
}

.section-title {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-semibold);
  margin: 0 0 var(--space-24) 0;
  padding-bottom: var(--space-16);
  border-bottom: 2px solid var(--color-border);
  color: var(--color-text);
}

.form-group {
  margin-bottom: var(--space-24);
}

.form-label {
  display: block;
  margin-bottom: var(--space-8);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-base);
  color: var(--color-text);
}

.label-text {
  font-weight: var(--font-weight-semibold);
  color: var(--color-text);
}

.label-help {
  font-weight: var(--font-weight-normal);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin-left: var(--space-4);
}

.required {
  color: var(--color-error);
  margin-left: var(--space-4);
}

.form-control {
  display: block;
  width: 100%;
  padding: var(--space-12) var(--space-16);
  font-size: var(--font-size-base);
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  transition: all var(--duration-normal) var(--ease-standard);
  font-family: var(--font-family-base);
}

.form-control:hover {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 1px var(--color-primary);
}

select.form-control {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: var(--select-caret-light);
  background-repeat: no-repeat;
  background-position: right var(--space-12) center;
  background-size: 16px;
  padding-right: var(--space-32);
}

@media (prefers-color-scheme: dark) {
  select.form-control {
    background-image: var(--select-caret-dark);
  }
}

textarea.form-control {
  resize: vertical;
  min-height: 100px;
}

textarea.form-control::placeholder {
  color: var(--color-text-secondary);
  opacity: 0.7;
}

.form-control::placeholder {
  color: var(--color-text-secondary);
  opacity: 0.7;
}

.form-control:focus {
  border-color: var(--color-primary);
  outline: var(--focus-outline);
  outline-offset: 0;
  box-shadow: var(--focus-ring);
}

.form-row {
  display: flex;
  gap: var(--space-16);
}

.form-row .form-group {
  flex: 1;
}

.checkbox-group {
  display: flex;
  align-items: center;
  gap: var(--space-12);
  margin-bottom: var(--space-24);
  padding: var(--space-16);
  background-color: var(--color-bg-2);
  border-radius: var(--radius-base);
  border: 1px solid var(--color-card-border);
}

.checkbox-group input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--color-primary);
}

.checkbox-group label {
  cursor: pointer;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  margin: 0;
  color: var(--color-text);
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-8);
  padding: var(--space-12) var(--space-24);
  border-radius: var(--radius-base);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  line-height: 1.5;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-standard);
  border: none;
  text-decoration: none;
  font-family: var(--font-family-base);
}

.btn-icon {
  font-size: var(--font-size-lg);
  line-height: 1;
}

.btn--primary {
  background: var(--color-primary);
  color: var(--color-btn-primary-text);
}

.btn--primary:hover {
  background: var(--color-primary-hover);
}

.btn--primary:active {
  background: var(--color-primary-active);
  transform: translateY(1px);
}

.btn--large {
  padding: var(--space-16) var(--space-32);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  box-shadow: var(--shadow-md);
}

.btn--large:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-1px);
}

.btn--large:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

.btn--secondary {
  background: var(--color-secondary);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}

.btn--secondary:hover {
  background: var(--color-secondary-hover);
  transform: translateY(-1px);
}

.btn--secondary:active {
  transform: translateY(0);
}

.btn--full-width {
  width: 100%;
}

.btn-group {
  display: flex;
  gap: var(--space-12);
  margin-top: var(--space-24);
  flex-wrap: wrap;
}

.btn-group .btn {
  flex: 1;
  min-width: 150px;
}

.output-content {
  background-color: var(--color-background);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-md);
  padding: var(--space-24);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  line-height: 1.6;
  white-space: pre-wrap;
  word-wrap: break-word;
  min-height: 400px;
  max-height: 600px;
  overflow-y: auto;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

.empty-state {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  color: var(--color-text-secondary);
  font-family: var(--font-family-base);
}

.hidden {
  display: none;
}

.error-message {
  color: var(--color-error);
  font-size: var(--font-size-sm);
  margin-top: var(--space-4);
}

.database-fields {
  background-color: var(--color-bg-1);
  padding: var(--space-20);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-24);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-xs);
}

.database-row {
  display: flex;
  gap: var(--space-12);
  align-items: flex-end;
  margin-bottom: var(--space-16);
  padding: var(--space-16);
  background-color: var(--color-surface);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-sm);
  transition: all var(--duration-normal) var(--ease-standard);
}

.database-row:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-primary);
}

.database-row .form-group {
  margin-bottom: 0;
  flex: 1;
}

.database-row .db-name-field {
  flex: 1.5;
}

.database-row .db-role-field {
  flex: 1;
}

.database-row .db-hostname-field {
  flex: 2;
}

.btn-remove {
  display: inline-flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-10) var(--space-16);
  background: var(--color-error);
  color: white;
  border: none;
  border-radius: var(--radius-base);
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--duration-normal) var(--ease-standard);
  white-space: nowrap;
  font-family: var(--font-family-base);
}

.btn-remove .btn-icon {
  font-size: var(--font-size-xl);
  line-height: 1;
}

.btn-remove:hover {
  background: var(--color-red-500);
  opacity: 0.9;
}

.btn-remove:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.field-group-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  margin: 0 0 var(--space-16) 0;
  color: var(--color-text);
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-4);
}

.field-group-title .label-help {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-normal);
}

.clear-btn {
  background: linear-gradient(135deg, #dc2626, #b91c1c) !important;
  color: white !important;
  border: none;
  box-shadow: var(--shadow-md);
}

.clear-btn:hover {
  background: linear-gradient(135deg, #b91c1c, #991b1b) !important;
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(220, 38, 38, 0.3);
}

.clear-btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

@media (max-width: 900px) {
  .form-row {
    flex-direction: column;
  }
}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Implementation Notes Generator</h1>
            <p>Generate comprehensive database implementation documentation</p>
        </div>
        
        <div class="main-content">
            <!-- Form Section -->
            <div class="form-section" id="formSection">
                <h2 class="section-title">Implementation Details</h2>
                
                <form id="notesForm">
                    <!-- Implementation Type -->
                    <div class="form-group">
                        <label class="form-label" for="implementationType">
                            <span class="label-text">Implementation Type</span><span class="required">*</span>
                            <span class="label-help">‚Üí Select Type of Change</span>
                        </label>
                        <select class="form-control" id="implementationType" required>
                            <option value="">Select Implementation Type</option>
                            <option value="Patching">Patching</option>
                            <option value="Database Change">Database Change</option>
                            <option value="DB Configuration Change">DB Configuration Change</option>
                            <option value="Schema Update">Schema Update</option>
                            <option value="Performance Tuning">Performance Tuning</option>
                            <option value="Backup/Recovery">Backup/Recovery</option>
                            <option value="Migration">Migration</option>
                            <option value="Security Update">Security Update</option>
                            <option value="User Management">User Management</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <!-- Sub-category dropdown (conditionally visible) -->
                    <div class="form-group hidden" id="subCategoryGroup">
                        <label class="form-label" id="subCategoryLabel" for="subCategory">
                            <span class="label-text">Sub-Category</span><span class="required">*</span>
                            <span class="label-help">‚Üí Specific Implementation Category</span>
                        </label>
                        <select class="form-control" id="subCategory">
                            <option value="">Select Sub-category</option>
                        </select>
                    </div>

                    <!-- Environment -->
                    <div class="form-group">
                        <label class="form-label" for="environment">
                            <span class="label-text">Environment</span><span class="required">*</span>
                            <span class="label-help">‚Üí Target Environment</span>
                        </label>
                        <select class="form-control" id="environment" required>
                            <option value="">Select Environment</option>
                            <option value="Production">Production</option>
                            <option value="Production Standby">Production Standby</option>
                            <option value="Mem-Test">Mem-Test</option>
                            <option value="Pre-Prod">Pre-Prod</option>
                            <option value="Non-Prod Standby">Non-Prod Standby</option>
                            <option value="Development">Development</option>
                            <option value="Test">Test</option>
                        </select>
                    </div>

                    <!-- Database Information -->
                    <div class="database-fields">
                        <h3 class="field-group-title">
                            <span class="label-text">Database Information</span><span class="required">*</span>
                            <span class="label-help">‚Üí Database Details (Name, Role, Hostname)</span>
                        </h3>
                        
                        <div id="databaseContainer">
                            <!-- Database rows will be added dynamically -->
                        </div>

                        <button type="button" class="btn btn--secondary" id="addDatabaseBtn" style="margin-top: var(--space-12);">
                            <span class="btn-icon">+</span> Add Database
                        </button>
                    </div>

                    <!-- Summary -->
                    <div class="form-group">
                        <label class="form-label" for="summary">
                            <span class="label-text">Summary / Objective</span><span class="required">*</span>
                            <span class="label-help">‚Üí Brief Description of Implementation</span>
                        </label>
                        <textarea class="form-control" id="summary" rows="3" required placeholder="Brief overview of the implementation objectives and expected outcomes"></textarea>
                    </div>

                    <!-- Pre-checks -->
                    <div class="form-group">
                        <label class="form-label" for="preChecks">
                            <span class="label-text">Pre-requisites &amp; Validation</span><span class="required">*</span>
                            <span class="label-help">‚Üí Pre-Implementation Checks</span>
                        </label>
                        <textarea class="form-control" id="preChecks" rows="6" required placeholder="Enter all pre-implementation checks (you can use bullets, numbers, or any format you prefer)"></textarea>
                    </div>

                    <!-- Implementation Steps -->
                    <div class="form-group">
                        <label class="form-label" for="implementationSteps">
                            <span class="label-text">Implementation Steps</span><span class="required">*</span>
                            <span class="label-help">‚Üí Step-by-Step Execution Details</span>
                        </label>
                        <textarea class="form-control" id="implementationSteps" rows="8" required placeholder="Enter all implementation steps (format as you wish - the content will appear exactly as you type it)"></textarea>
                    </div>

                    <!-- Validation Steps -->
                    <div class="form-group">
                        <label class="form-label" for="validation">
                            <span class="label-text">Validation Steps</span><span class="required">*</span>
                            <span class="label-help">‚Üí Post-Implementation Validation</span>
                        </label>
                        <textarea class="form-control" id="validation" rows="5" placeholder="- Check database status
- Verify configuration changes
- Test connectivity
- Review logs for errors" required></textarea>
                    </div>

                    <!-- Rollback Plan -->
                    <div class="form-group">
                        <label class="form-label" for="rollback">
                            <span class="label-text">Rollback Procedure</span><span class="required">*</span>
                            <span class="label-help">‚Üí Rollback Plan</span>
                        </label>
                        <textarea class="form-control" id="rollback" rows="5" placeholder="- Stop services if necessary
- Restore from backup
- Revert configuration changes
- Restart and validate" required></textarea>
                    </div>

                    <!-- Known Issues Checkbox -->
                    <div class="checkbox-group">
                        <input type="checkbox" id="includeKnownIssues">
                        <label for="includeKnownIssues">Include Known Issues Section</label>
                    </div>

                    <!-- Known Issues (conditionally visible) -->
                    <div class="form-group hidden" id="knownIssuesGroup">
                        <label class="form-label" for="knownIssues">
                            <span class="label-text">Known Issues &amp; Resolution</span>
                            <span class="label-help">‚Üí Issues Encountered (Optional)</span>
                        </label>
                        <textarea class="form-control" id="knownIssues" rows="4" placeholder="Document any issues encountered during the implementation, including:
- Error messages
- Unexpected behavior
- Resolution steps taken"></textarea>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 16px; margin-top: 24px;">
                        <button type="submit" class="btn btn--primary btn--large" style="flex: 1;">
                            <span class="btn-icon">‚úì</span> Generate Notes
                        </button>
                        <button type="button" class="btn btn--large clear-btn" onclick="clearForm()" style="flex: 1;">
                            <span class="btn-icon">üóëÔ∏è</span> Clear Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- Output Section - Moved to Bottom -->
            <div class="output-section" id="notesOutput">
                <h2 class="section-title">Generated Notes</h2>
                
                <div id="outputContent" class="output-content">
                    <div class="empty-state">Fill in the form and click "Generate Notes" to see the output</div>
                </div>

                <div class="btn-group hidden" id="actionButtons">
                    <button class="btn btn--primary" id="copyBtn"><span class="btn-icon">üìã</span> Copy to Clipboard</button>
                    <button class="btn btn--secondary" id="downloadBtn"><span class="btn-icon">üíæ</span> Download as .txt</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Implementation type subcategories mapping
        const implementationTypeData = {
            'Patching': {
                label: 'Patching Type',
                options: [
                    'GI Patching',
                    'RDBMS Patching',
                    'GI+RDBMS Patching',
                    'GI Pre-Patching',
                    'RDBMS Pre-Patching',
                    'GI+RDBMS Pre-Patching'
                ]
            },
            'Database Change': {
                label: 'Database Change Type',
                options: [
                    'Parameter Change',
                    'Database Restart',
                    'Tablespace Addition',
                    'Datafile Addition',
                    'Redo Log Management',
                    'Archive Log Configuration',
                    'Database Upgrade',
                    'PDB Operations (Create/Clone/Drop)',
                    'Other'
                ]
            },
            'DB Configuration Change': {
                label: 'Configuration Type',
                options: [
                    'SRVCTL Configuration',
                    'Listener Configuration',
                    'ASM Disk Addition',
                    'OCR/Voting Disk Management',
                    'Grid Infrastructure Configuration',
                    'TNS Configuration',
                    'Network Configuration',
                    'Resource Manager Configuration',
                    'Other'
                ]
            }
        };

        // DOM elements
        const implementationType = document.getElementById('implementationType');
        const subCategoryGroup = document.getElementById('subCategoryGroup');
        const subCategoryLabel = document.getElementById('subCategoryLabel');
        const subCategory = document.getElementById('subCategory');
        const includeKnownIssuesCheckbox = document.getElementById('includeKnownIssues');
        const knownIssuesGroup = document.getElementById('knownIssuesGroup');
        const notesForm = document.getElementById('notesForm');
        const outputContent = document.getElementById('outputContent');
        const actionButtons = document.getElementById('actionButtons');
        const copyBtn = document.getElementById('copyBtn');
        const downloadBtn = document.getElementById('downloadBtn');

        let generatedNotes = '';
        let databaseCounter = 0;
        const databases = [];

        // Initialize with one database row
        function initializeDatabases() {
            addDatabaseRow();
        }

        // Add a new database row
        function addDatabaseRow() {
            databaseCounter++;
            const container = document.getElementById('databaseContainer');
            
            const row = document.createElement('div');
            row.className = 'database-row';
            row.dataset.dbId = databaseCounter;
            
            row.innerHTML = `
                <div class="form-group db-name-field">
                    <label class="form-label" for="dbName${databaseCounter}">
                        <span class="label-text">Database Name</span><span class="required">*</span>
                    </label>
                    <input type="text" class="form-control db-name-input" id="dbName${databaseCounter}" required placeholder="e.g., PRODDB01">
                </div>
                
                <div class="form-group db-role-field">
                    <label class="form-label" for="dbRole${databaseCounter}">
                        <span class="label-text">Role</span><span class="required">*</span>
                    </label>
                    <select class="form-control db-role-input" id="dbRole${databaseCounter}" required>
                        <option value="">Select</option>
                        <option value="Primary">Primary</option>
                        <option value="Standby">Standby</option>
                    </select>
                </div>
                
                <div class="form-group db-hostname-field">
                    <label class="form-label" for="dbHostname${databaseCounter}">
                        <span class="label-text">Hostname</span><span class="required">*</span>
                    </label>
                    <input type="text" class="form-control db-hostname-input" id="dbHostname${databaseCounter}" required placeholder="e.g., dbserver01.domain.com">
                </div>
                
                <button type="button" class="btn-remove" onclick="removeDatabaseRow(${databaseCounter})">
                    <span class="btn-icon">√ó</span> Remove
                </button>
            `;
            
            container.appendChild(row);
            updateRemoveButtons();
        }

        // Remove a database row
        function removeDatabaseRow(dbId) {
            const container = document.getElementById('databaseContainer');
            const rows = container.querySelectorAll('.database-row');
            
            if (rows.length > 1) {
                const row = container.querySelector(`[data-db-id="${dbId}"]`);
                if (row) {
                    row.remove();
                    updateRemoveButtons();
                }
            }
        }

        // Update remove button states
        function updateRemoveButtons() {
            const container = document.getElementById('databaseContainer');
            const rows = container.querySelectorAll('.database-row');
            const removeButtons = container.querySelectorAll('.btn-remove');
            
            removeButtons.forEach(button => {
                if (rows.length <= 1) {
                    button.disabled = true;
                } else {
                    button.disabled = false;
                }
            });
        }

        // Make removeDatabaseRow available globally
        window.removeDatabaseRow = removeDatabaseRow;

        // Add database button handler
        document.getElementById('addDatabaseBtn').addEventListener('click', addDatabaseRow);

        // Handle implementation type change
        implementationType.addEventListener('change', function() {
            const selectedType = this.value;
            
            if (implementationTypeData[selectedType]) {
                // Show sub-category dropdown
                const data = implementationTypeData[selectedType];
                subCategoryLabel.innerHTML = `<span class="label-text">${data.label}</span><span class="required">*</span><span class="label-help">‚Üí Specific Implementation Category</span>`;
                
                // Clear and populate options
                subCategory.innerHTML = '<option value="">Select ' + data.label + '</option>';
                data.options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option;
                    optionElement.textContent = option;
                    subCategory.appendChild(optionElement);
                });
                
                subCategoryGroup.classList.remove('hidden');
                subCategory.setAttribute('required', 'required');
            } else {
                // Hide sub-category dropdown
                subCategoryGroup.classList.add('hidden');
                subCategory.removeAttribute('required');
                subCategory.value = '';
            }
        });

        // Handle known issues checkbox
        includeKnownIssuesCheckbox.addEventListener('change', function() {
            if (this.checked) {
                knownIssuesGroup.classList.remove('hidden');
            } else {
                knownIssuesGroup.classList.add('hidden');
            }
        });

        // Format text content preserving user input exactly as entered
        function formatTextContent(text) {
            if (!text || !text.trim()) return '';
            return text.trim();
        }

        // Generate implementation notes
        function generateNotes(formData) {
            let notes = '';
            
            // Title
            notes += '='.repeat(80) + '\n';
            notes += 'DATABASE IMPLEMENTATION NOTES\n';
            notes += '='.repeat(80) + '\n\n';

            // Implementation Type with sub-category
            let implTypeText = formData.implementationType;
            if (formData.subCategory) {
                implTypeText += ` - ${formData.subCategory}`;
            }
            notes += `Implementation Type: ${implTypeText}\n`;
            notes += `Environment: ${formData.environment}\n`;
            
            // Format database information
            if (formData.databases && formData.databases.length > 0) {
                if (formData.databases.length === 1) {
                    const db = formData.databases[0];
                    notes += `Database(s): ${db.name} (${db.role}) (${db.hostname})\n`;
                } else {
                    notes += `Database(s): ${formData.databases[0].name} (${formData.databases[0].role}) (${formData.databases[0].hostname})\n`;
                    for (let i = 1; i < formData.databases.length; i++) {
                        const db = formData.databases[i];
                        notes += `             ${db.name} (${db.role}) (${db.hostname})\n`;
                    }
                }
            }
            
            // Generate timestamp with date and time for header
            const headerDate = new Date();
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateStr = headerDate.toLocaleDateString('en-US', dateOptions);
            const timeStr = headerDate.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
            const fullTimestamp = `${dateStr}, ${timeStr}`;
            notes += `Implementation Notes Generated Date: ${fullTimestamp}\n\n`;

            // Summary
            notes += '-'.repeat(80) + '\n';
            notes += '1. SUMMARY\n';
            notes += '-'.repeat(80) + '\n';
            notes += formData.summary + '\n\n';

            // Pre-checks
            notes += '-'.repeat(80) + '\n';
            notes += '2. PRE-CHECKS\n';
            notes += '-'.repeat(80) + '\n';
            notes += formatTextContent(formData.preChecks) + '\n\n';

            // Implementation Steps
            notes += '-'.repeat(80) + '\n';
            notes += '3. IMPLEMENTATION STEPS\n';
            notes += '-'.repeat(80) + '\n';
            notes += formatTextContent(formData.implementationSteps) + '\n\n';

            // Validation
            notes += '-'.repeat(80) + '\n';
            notes += '4. VALIDATION STEPS\n';
            notes += '-'.repeat(80) + '\n';
            notes += formatTextContent(formData.validation) + '\n\n';

            // Rollback Plan
            notes += '-'.repeat(80) + '\n';
            notes += '5. ROLLBACK PLAN\n';
            notes += '-'.repeat(80) + '\n';
            notes += formatTextContent(formData.rollback) + '\n\n';

            // Known Issues (if included)
            if (formData.includeKnownIssues && formData.knownIssues && formData.knownIssues.trim()) {
                notes += '-'.repeat(80) + '\n';
                notes += '6. KNOWN ISSUES\n';
                notes += '-'.repeat(80) + '\n';
                notes += formData.knownIssues + '\n\n';
            }

            // Generate timestamp in DD/MM/YYYY, HH:MM:SS am/pm format
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = now.getFullYear();
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const ampm = hours >= 12 ? 'pm' : 'am';
            hours = hours % 12 || 12;
            const timestamp = `${day}/${month}/${year}, ${hours}:${minutes}:${seconds} ${ampm}`;
            
            notes += '\nImplementation Notes Generated Date: ' + timestamp + '\n\n';
            notes += '='.repeat(80) + '\n';
            notes += 'END OF IMPLEMENTATION NOTES\n';
            notes += '='.repeat(80);

            return notes;
        }

        // Handle form submission
        notesForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect database information
            const container = document.getElementById('databaseContainer');
            const dbRows = container.querySelectorAll('.database-row');
            const databases = [];
            
            let hasEmptyDbFields = false;
            dbRows.forEach(row => {
                const nameInput = row.querySelector('.db-name-input');
                const roleInput = row.querySelector('.db-role-input');
                const hostnameInput = row.querySelector('.db-hostname-input');
                
                if (!nameInput.value.trim() || !roleInput.value || !hostnameInput.value.trim()) {
                    hasEmptyDbFields = true;
                }
                
                databases.push({
                    name: nameInput.value.trim(),
                    role: roleInput.value,
                    hostname: hostnameInput.value.trim()
                });
            });
            
            if (hasEmptyDbFields) {
                alert('Please fill in all database fields (Database Name, Primary/Standby, and Hostname).');
                return;
            }
            
            // Collect form data
            const formData = {
                implementationType: document.getElementById('implementationType').value,
                subCategory: document.getElementById('subCategory').value,
                environment: document.getElementById('environment').value,
                databases: databases,
                summary: document.getElementById('summary').value,
                preChecks: document.getElementById('preChecks').value,
                implementationSteps: document.getElementById('implementationSteps').value,
                validation: document.getElementById('validation').value,
                rollback: document.getElementById('rollback').value,
                includeKnownIssues: includeKnownIssuesCheckbox.checked,
                knownIssues: document.getElementById('knownIssues').value
            };

            // Validate sub-category if required
            if (implementationTypeData[formData.implementationType] && !formData.subCategory) {
                alert('Please select a sub-category for the selected implementation type.');
                return;
            }

            // Generate notes
            generatedNotes = generateNotes(formData);
            
            // Display notes
            outputContent.textContent = generatedNotes;
            actionButtons.classList.remove('hidden');

            // Add highlight animation
            const outputSection = document.getElementById('notesOutput');
            outputSection.classList.add('highlight');
            setTimeout(() => {
                outputSection.classList.remove('highlight');
            }, 600);

            // Auto-scroll to generated notes section
            setTimeout(() => {
                outputSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        });

        // Copy to clipboard
        copyBtn.addEventListener('click', async function() {
            try {
                await navigator.clipboard.writeText(generatedNotes);
                const originalText = this.textContent;
                this.textContent = 'Copied!';
                setTimeout(() => {
                    this.textContent = originalText;
                }, 2000);
            } catch (err) {
                alert('Failed to copy to clipboard');
            }
        });

        // Download as text file
        downloadBtn.addEventListener('click', function() {
            const container = document.getElementById('databaseContainer');
            const firstDbName = container.querySelector('.db-name-input')?.value || 'implementation';
            const filename = `${firstDbName}_implementation_notes_${new Date().toISOString().split('T')[0]}.txt`;
            
            const blob = new Blob([generatedNotes], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        // Clear form function
        function clearForm() {
            // Check if form has any data
            const hasData = document.getElementById('implementationType').value ||
                           document.getElementById('environment').value ||
                           document.getElementById('summary').value ||
                           document.getElementById('preChecks').value ||
                           document.getElementById('implementationSteps').value ||
                           document.getElementById('validation').value ||
                           document.getElementById('rollback').value;
            
            // Show confirmation dialog only if form has data
            if (hasData) {
                if (!confirm('Are you sure you want to clear all form data?')) {
                    return;
                }
            }
            
            // Reset Implementation Type dropdown
            document.getElementById('implementationType').value = '';
            
            // Hide and reset Sub-Category dropdown
            subCategoryGroup.classList.add('hidden');
            subCategory.removeAttribute('required');
            subCategory.value = '';
            
            // Reset Environment dropdown
            document.getElementById('environment').value = '';
            
            // Remove all database rows and add one empty row
            const container = document.getElementById('databaseContainer');
            container.innerHTML = '';
            databaseCounter = 0;
            addDatabaseRow();
            
            // Clear all textareas
            document.getElementById('summary').value = '';
            document.getElementById('preChecks').value = '';
            document.getElementById('implementationSteps').value = '';
            document.getElementById('validation').value = '';
            document.getElementById('rollback').value = '';
            
            // Uncheck Known Issues checkbox and hide textarea
            includeKnownIssuesCheckbox.checked = false;
            knownIssuesGroup.classList.add('hidden');
            document.getElementById('knownIssues').value = '';
            
            // Hide generated notes section
            outputContent.innerHTML = '<div class="empty-state">Fill in the form and click "Generate Notes" to see the output</div>';
            actionButtons.classList.add('hidden');
            generatedNotes = '';
            
            // Scroll to top of page
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Make clearForm available globally
        window.clearForm = clearForm;

        // Initialize the form with one database row on page load
        initializeDatabases();
    </script>
</body>
</html>