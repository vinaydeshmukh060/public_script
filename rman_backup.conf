# rman_backup.conf.example
# Example configuration file for rman_backup.sh
# Save as /etc/rman_backup/rman_backup.conf or ./rman_backup.conf
# Shell-style KEY=VALUE pairs. Use only basic shell quoting.

# Base directory where all backups, logs and temporary files are stored.
# Default in examples: /backup/rman â€” change to your site's backup mount.
BASE_DIR=/backup/rman

# Per-backup-type directories. These default to subdirs of BASE_DIR.
BACKUP_L0_DIR=${BASE_DIR}/L0
BACKUP_L1_DIR=${BASE_DIR}/L1
BACKUP_ARCH_DIR=${BASE_DIR}/Arch

# Backup filename formats (used to create filenames inside the date dir)
# Supported placeholders:
#   %d = DB_NAME (from oratab or environment)
#   %t = timestamp in YYYYMMDD_HHMMSS
#   %s = RMAN backup set sequence number (generated by script)
#   %i = INSTANCE name (SID passed to the script)
# Example: '%d_%t_L0_%s' -> ORCL_20250930_235959_L0_1
BACKUP_FORMAT_L0='%d_%t_L0_%s'
BACKUP_FORMAT_L1='%d_%t_L1_%s'
BACKUP_FORMAT_ARCH='%d_%t_ARCH_%s'

# Number of parallel channels to allocate to RMAN (integer).
CHANNELS=3

# Maximum size per channel. Accepts units G, M or K (case-insensitive).
# Example: 100G, 500M. Script validates and caps values sensibly.
CHANNEL_MAXSIZE=100G

# Retention window in days for obsolete backups.
RETENTION_DAYS=3

# Path to oratab file (used to validate instances and get SID to ORACLE_HOME mapping).
ORATAB=/etc/oratab

# Directory for logs. If relative, it's expanded against BASE_DIR.
LOG_DIR=${BASE_DIR}/logs

# Path to RMAN binary (change if RMAN is in different location).
RMAN_BINARY=/usr/bin/rman

# Compression: Y to enable RMAN compressed backups (uses RMAN COMPRESSED BACKUPSET).
# If missing default is N.
COMPRESS=Y

# Whether to backup SPFILE after datafile backup. Accepts Y or N. Default Y.
SPFILE_BACKUP=Y

# Additional freeform RMAN command options that will be appended (example: 'skip inaccessible').
# Keep this empty unless necessary.
ADDITIONAL_RMAN_OPTIONS=''

# Path to sqlplus if needed for DB role checks (optional). If empty, uses PATH lookups.
SQLPLUS_BINARY=/usr/bin/sqlplus

# PID files directory (for locks). Defaults to LOG_DIR if not changed.
PID_DIR=${LOG_DIR}/pids

# Optional: Email/notification recipient for monitoring integration (left blank by default).
NOTIFY_RECIPIENT='ops@example.com'

# End of example configuration.
